<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta name='viewport' content='width=device-width,user-scalable=no,initial-scale=1, maximum-scale=1, minimum-scale=1' />
    <title>Justine</title>

    <style type="text/css">
      @font-face {
  	    font-family: 'Open Sans';
          src: url('OpenSans-Regular.ttf') format('truetype');
  	    font-weight: normal;
  	    font-style: normal;
      }
      #pacman {
        position: absolute;
        margin: auto auto;
      }
      #shim {
        font-family: 'Open Sans';
        position:absolute;
        visibility:hidden;
      }
      body {
        width:100%;
        height: 100%;
        position: absolute;
        margin:0;
        background-color: #B1DFFA;
        display: -webkit-box;
        display: -ms-flexbox;
        display: flex;
        -webkit-box-pack: center;
        -ms-flex-pack: center;
        justify-content: center;
        -webkit-box-align: center;
        -ms-flex-align: center;
        align-items: center;
      }
      .ghost-green { background-image: url('ghost-green.svg');}
      .ghost-pink { background-image: url('ghost-pink.svg');}
      .ghost-red { background-image: url('ghost-red.svg');}
      .ghost-yellow { background-image: url('ghost-yellow.svg');}
    </style>
  </head>

  <body>

    <div id="shim ghost-green"></div>
    <div id="shim ghost-pink"></div>
    <div id="shim ghost-yellow"></div>
    <div id="shim ghost-red"></div>

    <div id="pacman"></div>
    <script src="turtle.js"></script>
    <script src="pacman.js"></script>
    <script src="modernizr-1.5.min.js"></script>

    <script>

      var el = document.getElementById("pacman");

      var deviceWidth = window.innerWidth;
      var deviceHeight = window.innerHeight;
      var footerHeight = 47;
      var margin = 20;

      var blockSize = deviceWidth > deviceHeight ?
        Math.ceil((deviceHeight - footerHeight - 30) / 22 ) :
        Math.ceil(deviceWidth/19);
console.log(blockSize, deviceWidth > deviceHeight);
      var isMobile = false;
      if (deviceWidth < 720) {
        isMobile = true;
      }

      el.style.width = (blockSize * 19 - margin) + 'px';
      el.style.height = (blockSize * 22 - margin) + 'px';

      if (Modernizr.canvas && Modernizr.localstorage &&
          Modernizr.audio && (Modernizr.audio.ogg || Modernizr.audio.mp3)) {
        window.setTimeout(function () { PACMAN.init(el, "./"); }, 0);
      } else {
        el.innerHTML = "Sorry, needs a decent browser<br /><small>" +
          "(firefox 3.6+, Chrome 4+, Opera 10+ and Safari 4+)</small>";
      }
    </script>
  </body>
</html>
